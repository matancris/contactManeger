(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),i=n(10),r=n.n(i),o=(n(32),n(3)),l=n(12);function d(){return Object(a.jsxs)("section",{className:"app-header flex align-center",children:[Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("h1",{children:"Leads Manager"})}),Object(a.jsxs)("nav",{className:"flex space-around",children:[Object(a.jsx)(l.b,{to:"/",children:"home"}),Object(a.jsx)(l.b,{to:"/editMsg",children:"edit messeges"})]})]})}var u=n(13),j=n(7),b=n(9),f={saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},clearStorage:function(){localStorage.clear()}};var h="myMsgs",m={getMsgTemplate:function(){return O},setMsgTemplate:function(e){O=e,f.saveToStorage(h,O)},createMsg:function(e,t){return O[e].replace("{{data}}",t)}},O=f.loadFromStorage(h)||{check:"\u05d0\u05d4\u05dc\u05df {{data}}! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05e0\u05d9 \u05d0\u05e8\u05d0\u05d4 \u05d0\u05d5\u05ea\u05da \u05e9\u05dd?",invitation:"\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n {{data}} \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)",start:"\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd \u05e2\u05d5\u05d3 \u05db\u05de\u05d4 \u05d3\u05e7\u05d5\u05ea! \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05d5\u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05dd \u05d4\u05db\u05dc \u05e2\u05d5\u05d1\u05d3 \u05db\u05de\u05d5 \u05e9\u05e6\u05e8\u05d9\u05da:)"};function x(){var e=Object(s.useState)({check:"",invitation:"",start:""}),t=Object(b.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){var e=m.getMsgTemplate();c(e)}),[]),Object(s.useEffect)((function(){m.setMsgTemplate(n)}),[n]);var i=function(e){var t=e.target,a=t.name,s=t.value;c(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},a,s)))};return Object(a.jsxs)("section",{className:"edit-msg flex column space-between align-center",children:[Object(a.jsx)("h1",{children:"Edit Messeges"}),Object(a.jsx)("label",{htmlFor:"edit-check",children:"check"}),Object(a.jsx)("textarea",{name:"check",id:"edit-check",cols:"20",rows:"10",onChange:i,value:n.check}),Object(a.jsx)("label",{htmlFor:"edit-invitation",children:"invitation"}),Object(a.jsx)("textarea",{name:"invitation",id:"edit-invitation",cols:"230",rows:"10",onChange:i,value:n.invitation}),Object(a.jsx)("label",{htmlFor:"edit-start",children:"start"}),Object(a.jsx)("textarea",{name:"start",id:"edit-start",cols:"20",rows:"10",onChange:i,value:n.start})]})}var v=n(17);function p(e){var t=e.onSetFilter,n=function(e){var n=e.target;t({status:n.value})};return Object(a.jsxs)("form",{className:"lead-filter",children:[Object(a.jsxs)("label",{htmlFor:"all",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"all",value:"",onChange:n}),"all"]}),Object(a.jsxs)("label",{htmlFor:"first",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"first",value:"first-step",onChange:n}),"checked"]}),Object(a.jsxs)("label",{htmlFor:"second",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"second",value:"second-step",onChange:n}),"invited"]}),Object(a.jsxs)("label",{htmlFor:"third",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"third",value:"third-step",onChange:n}),"finished process"]})]})}var g=n(16);function S(e){var t=e.lead,n=e.onSendMsg,s=e.onDeleteLead,c=e.onAddInfo,i=e.idx;return Object(a.jsx)(g.b,{draggableId:t.id,index:i,children:function(e){return Object(a.jsxs)("li",Object(j.a)(Object(j.a)(Object(j.a)({className:"lead-preview flex space-between align-center ".concat(t.status),ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(a.jsxs)("h1",{className:"flex",children:[t.name," - ",t.num]}),Object(a.jsx)("p",{suppressContentEditableWarning:!0,contentEditable:!0,onInput:function(e){return c(e,t.id)},children:t.info}),Object(a.jsxs)("section",{className:"lead-actions flex space-between",children:[Object(a.jsx)("button",{onClick:function(){return n(t,"first-step")},children:"check"}),Object(a.jsx)("button",{onClick:function(){return n(t,"second-step")},children:"invitation"}),Object(a.jsx)("button",{onClick:function(){return n(t,"third-step")},children:"start"}),Object(a.jsx)("button",{onClick:function(){return s(t.id)},children:"X"})]})]}))}})}function L(e){var t=e.leads,n=e.onSendMsg,s=e.onDeleteLead,c=e.onAddInfo,i=e.onDragEnd;return Object(a.jsx)(g.a,{onDragEnd:i,children:Object(a.jsx)(g.c,{droppableId:"leadList",children:function(e){return Object(a.jsxs)("ul",Object(j.a)(Object(j.a)({className:"lead-list clean-list flex column",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(a.jsx)(S,{idx:t,onAddInfo:c,lead:e,onSendMsg:n,onDeleteLead:s},e.id)})),e.placeholder]}))}})})}function k(e){var t=e.savedLists,n=e.setCurrList,c=Object(s.useState)(!1),i=Object(b.a)(c,2),r=i[0],o=i[1];return Object(a.jsxs)("section",{className:"saved-lists-container",children:[Object(a.jsx)("ul",{className:"lead-saved-list clean-list flex column ".concat(r?"list-open":""),children:t.map((function(e){return Object(a.jsx)("li",{onClick:function(){return n(e.leads)},children:e.title},e.id)}))}),Object(a.jsx)("button",{className:"saved-list-btn",onClick:function(){return o(!r)},children:"my lists"})]})}var N={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}},C="myLeads",w={addLead:function(e){if(!e.num||e.num.length<10)return void console.log("invalid num");!function(e){e.id=N.makeId(),I.push(e),A()}(e)},getLeads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.status)return I;var t=I.filter((function(t){return t.status===e.status}));return t},getSavedLists:function(){return M},sendMsg:y,setLeadStatus:F,remove:function(e){var t=I.findIndex((function(t){return t.id===e})),n=I.splice(t,1);return A(),n},addInfo:function(e,t){var n=E(t);I[n].info=e,A()},updateLeadIdx:function(e,t){var n=I.splice(t,1);I.splice(e,0,n[0]),A()},saveList:function(e,t){var n={id:N.makeId(4),title:t,leads:e},a=f.loadFromStorage("leadLists")||[];a.push(n),f.saveToStorage("leadLists",a),M=a},sendAll:function(e,t,n){"first-step"===t?t="second-step":"second-step"===t?t="third-step":t||(t="first-step");e.forEach((function(e){y(e,t,n)}))},setLeadsList:function(e){I=Object(v.a)(e)}},I=f.loadFromStorage(C)||[],M=f.loadFromStorage("leadLists")||[];function y(e,t,n){var a,s=e.num.split("").filter((function(e){return"-"!==e})).join("");switch(t){case"first-step":var c=m.createMsg("check",e.name);a=encodeURI(c);break;case"second-step":var i=m.createMsg("invitation",n);a=encodeURI(i);break;case"third-step":var r=m.createMsg("start");a=encodeURI(r)}F(e.id,t),window.open("https://wa.me/972".concat(s,"/?text=").concat(a))}function F(e,t){var n=E(e);I[n].status=t,A()}function E(e){return I.findIndex((function(t){return t.id===e}))}function A(){f.saveToStorage(C,I)}function D(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)({name:"",num:"",status:"",info:""}),r=Object(b.a)(i,2),o=r[0],l=r[1],d=Object(s.useState)(""),h=Object(b.a)(d,2),m=h[0],O=h[1],x=Object(s.useState)({status:""}),g=Object(b.a)(x,2),S=g[0],N=g[1],C=Object(s.useState)({title:""}),I=Object(b.a)(C,2),M=I[0],y=I[1],F=Object(s.useState)([]),E=Object(b.a)(F,2),A=E[0],D=E[1];Object(s.useEffect)((function(){T()}),[o,S]),Object(s.useEffect)((function(){R()}),[M]);var T=function(){var e=w.getLeads(S);c(Object(v.a)(e))},R=function(){var e=w.getSavedLists();D(Object(v.a)(e))},J=function(e){var t=e.target,n=t.value,a=t.name;"list-title"===a&&y({title:n}),l(Object(j.a)(Object(j.a)({},o),{},Object(u.a)({},a,n)))};var U=Object(s.useCallback)((function(e){var t=e.destination,n=e.source;if(t){var a=t.index,s=n.index;w.updateLeadIdx(a,s),T()}}),[]);return Object(a.jsxs)("main",{className:"homepage",children:[Object(a.jsxs)("section",{className:"main-section flex column space-around align-center",children:[Object(a.jsx)("button",{className:"clear-btn",onClick:function(){return f.saveToStorage("myLeads",null),void window.location.reload()},children:"clear storage"}),Object(a.jsxs)("form",{className:"main-form flex column align-center",onSubmit:function(e){return function(e){e.preventDefault(),w.addLead(o),l({name:"",num:""})}(e)},children:[Object(a.jsx)("h3",{children:"Add Lead"}),Object(a.jsx)("input",{type:"text",onChange:J,name:"num",value:o.num,placeholder:"num"}),Object(a.jsx)("input",{type:"text",onChange:J,name:"name",value:o.name,placeholder:"name"}),Object(a.jsx)("button",{children:"add"})]}),Object(a.jsxs)("div",{className:"zoom-wrapper",children:[Object(a.jsx)("h3",{children:"Insert Url"}),Object(a.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:function(e){O(e.target.value)}})]}),Object(a.jsxs)("form",{className:"save-list-form flex column align-center",onSubmit:function(e){e.preventDefault(),w.saveList(n,M.title),y({title:""})},children:[Object(a.jsx)("h3",{children:"Save List"}),Object(a.jsx)("input",{type:"text",name:"list-title",placeholder:"insert title",onChange:J,value:M.title,required:!0}),Object(a.jsx)("button",{className:"save-list-btn",children:"save this list"})]}),Object(a.jsx)("button",{onClick:function(){w.sendAll(n,S.status,m),T()},children:"send all"})]}),Object(a.jsxs)("section",{className:"main-list",children:[Object(a.jsxs)("div",{className:"main-list-header",children:[Object(a.jsxs)("h2",{children:["on the list now: ",n.length]}),Object(a.jsx)(p,{onSetFilter:function(e){N(e)}})]}),Object(a.jsx)(L,{leads:n,onDragEnd:U,onSendMsg:function(e,t){w.sendMsg(e,t,m),T()},onDeleteLead:function(e){w.remove(e),T()},onAddInfo:function(e,t){var n=e.target.textContent;w.addInfo(n,t)}})]}),Object(a.jsx)(k,{savedLists:A,setCurrList:function(e){w.setLeadsList(e),T()}})]})}var T=function(){return Object(a.jsxs)("section",{className:"App",children:[Object(a.jsx)(d,{}),Object(a.jsx)("main",{className:"",children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{component:D,path:"/",exact:!0}),Object(a.jsx)(o.a,{component:x,to:"/editMsg"})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.ba76fce1.chunk.js.map