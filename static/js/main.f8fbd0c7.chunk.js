(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),i=n(10),r=n.n(i),o=(n(32),n(3)),l=n(12);function d(){return Object(a.jsxs)("section",{className:"app-header flex align-center",children:[Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("h1",{children:"Leads Manager"})}),Object(a.jsxs)("nav",{className:"flex space-around",children:[Object(a.jsx)(l.b,{to:"/",children:"home"}),Object(a.jsx)(l.b,{to:"/editMsg",children:"edit messeges"})]})]})}var u=n(13),j=n(7),b=n(8),h={saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},clearStorage:function(){localStorage.clear()}};var f="myMsgs",m={getMsgTemplate:function(){return O},setMsgTemplate:function(e){O=e,h.saveToStorage(f,O)},createMsg:function(e,t){return O[e].replace("{{data}}",t)}},O=h.loadFromStorage(f)||{check:"\u05d0\u05d4\u05dc\u05df {{data}}! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05e0\u05d9 \u05d0\u05e8\u05d0\u05d4 \u05d0\u05d5\u05ea\u05da \u05e9\u05dd?",invitation:"\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n {{data}} \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)",start:"\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd \u05e2\u05d5\u05d3 \u05db\u05de\u05d4 \u05d3\u05e7\u05d5\u05ea! \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05d5\u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05dd \u05d4\u05db\u05dc \u05e2\u05d5\u05d1\u05d3 \u05db\u05de\u05d5 \u05e9\u05e6\u05e8\u05d9\u05da:)"};function x(){var e=Object(s.useState)({check:"",invitation:"",start:""}),t=Object(b.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){var e=m.getMsgTemplate();c(e)}),[]),Object(s.useEffect)((function(){m.setMsgTemplate(n)}),[n]);var i=function(e){var t=e.target,a=t.name,s=t.value;c(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},a,s)))};return Object(a.jsxs)("section",{className:"edit-msg flex column space-between align-center",children:[Object(a.jsx)("h1",{children:"Edit Messeges"}),Object(a.jsx)("label",{htmlFor:"edit-check",children:"check"}),Object(a.jsx)("textarea",{name:"check",id:"edit-check",cols:"20",rows:"10",onChange:i,value:n.check}),Object(a.jsx)("label",{htmlFor:"edit-invitation",children:"invitation"}),Object(a.jsx)("textarea",{name:"invitation",id:"edit-invitation",cols:"230",rows:"10",onChange:i,value:n.invitation}),Object(a.jsx)("label",{htmlFor:"edit-start",children:"start"}),Object(a.jsx)("textarea",{name:"start",id:"edit-start",cols:"20",rows:"10",onChange:i,value:n.start})]})}var v=n(14);function p(e){var t=e.lead,n=e.listToSave,c=e.onAddLead,i=e.onInputChange,r=e.onSetZoomUrl,o=e.onSaveList,l=e.onSendAll,d=Object(s.useState)(!1),u=Object(b.a)(d,2),j=u[0],f=u[1];return Object(a.jsxs)("section",{className:"aside-bar flex column space-around align-center ".concat(j?"screen-open":""),children:[Object(a.jsx)("button",{className:"clear-btn",onClick:function(){return h.saveToStorage("myLeads",null),void window.location.reload()},children:"clear storage"}),Object(a.jsxs)("form",{className:"main-form flex column align-center",onSubmit:function(e){return c(e)},children:[Object(a.jsx)("h3",{children:"Add Lead"}),Object(a.jsx)("input",{type:"text",onChange:i,name:"num",value:t.num,placeholder:"num"}),Object(a.jsx)("input",{type:"text",onChange:i,name:"name",value:t.name,placeholder:"name"}),Object(a.jsx)("button",{children:"add"})]}),Object(a.jsxs)("div",{className:"zoom-wrapper",children:[Object(a.jsx)("h3",{children:"Insert Url"}),Object(a.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:r})]}),Object(a.jsxs)("form",{className:"save-list-form flex column align-center",onSubmit:o,children:[Object(a.jsx)("h3",{children:"Save List"}),Object(a.jsx)("input",{type:"text",name:"list-title",placeholder:"insert title",onChange:i,value:n.title,required:!0}),Object(a.jsx)("button",{className:"save-list-btn",children:"save this list"})]}),Object(a.jsx)("button",{onClick:l,children:"send all"}),Object(a.jsx)("button",{className:"mobile-options-btn",onClick:function(){return f(!j)},children:"\u2699\ufe0f"})]})}function g(e){var t=e.onSetFilter,n=function(e){var n=e.target;t({status:n.value})};return Object(a.jsxs)("form",{className:"lead-filter",children:[Object(a.jsxs)("label",{htmlFor:"all",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"all",value:"",onChange:n}),"all"]}),Object(a.jsxs)("label",{htmlFor:"first",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"first",value:"first-step",onChange:n}),"checked"]}),Object(a.jsxs)("label",{htmlFor:"second",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"second",value:"second-step",onChange:n}),"invited"]}),Object(a.jsxs)("label",{htmlFor:"third",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"third",value:"third-step",onChange:n}),"finished process"]})]})}var S=n(17);function L(e){var t=e.lead,n=e.onSendMsg,s=e.onDeleteLead,c=e.onAddInfo,i=e.idx;return Object(a.jsx)(S.b,{draggableId:t.id,index:i,children:function(e){return Object(a.jsxs)("li",Object(j.a)(Object(j.a)(Object(j.a)({className:"lead-preview flex space-between align-center ".concat(t.status),ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(a.jsxs)("h1",{className:"flex",children:[t.name," - ",t.num]}),Object(a.jsx)("p",{suppressContentEditableWarning:!0,contentEditable:!0,onInput:function(e){return c(e,t.id)},children:t.info}),Object(a.jsxs)("section",{className:"lead-actions flex space-between",children:[Object(a.jsx)("button",{onClick:function(){return n(t,"first-step")},children:"check"}),Object(a.jsx)("button",{onClick:function(){return n(t,"second-step")},children:"invitation"}),Object(a.jsx)("button",{onClick:function(){return n(t,"third-step")},children:"start"}),Object(a.jsx)("button",{onClick:function(){return s(t.id)},children:"X"})]})]}))}})}function k(e){var t=e.leads,n=e.onSendMsg,s=e.onDeleteLead,c=e.onAddInfo,i=e.onDragEnd;return Object(a.jsx)(S.a,{onDragEnd:i,children:Object(a.jsx)(S.c,{droppableId:"leadList",children:function(e){return Object(a.jsxs)("ul",Object(j.a)(Object(j.a)({className:"lead-list clean-list flex column",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(a.jsx)(L,{idx:t,onAddInfo:c,lead:e,onSendMsg:n,onDeleteLead:s},e.id)})),e.placeholder]}))}})})}function C(e){var t=e.savedLists,n=e.setCurrList,c=Object(s.useState)(!1),i=Object(b.a)(c,2),r=i[0],o=i[1];return Object(a.jsxs)("section",{className:"saved-lists-container",children:[Object(a.jsx)("ul",{className:"lead-saved-list clean-list flex column ".concat(r?"list-open":""),children:t.map((function(e){return Object(a.jsx)("li",{onClick:function(){return n(e.leads)},children:e.title},e.id)}))}),Object(a.jsx)("button",{className:"saved-list-btn",onClick:function(){return o(!r)},children:"my lists"})]})}var I={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}},N="myLeads",w={addLead:function(e){if(!e.num||e.num.length<10)return void console.log("invalid num");!function(e){e.id=I.makeId(),M.push(e),T()}(e)},getLeads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.status)return Object(v.a)(M);var t=M.filter((function(t){return t.status===e.status}));return t},getSavedLists:function(){return y},sendMsg:F,setLeadStatus:A,remove:function(e){var t=M.findIndex((function(t){return t.id===e})),n=M.splice(t,1);return T(),n},addInfo:function(e,t){var n=E(t);M[n].info=e,T()},updateLeadIdx:function(e,t){var n=M.splice(t,1);M.splice(e,0,n[0]),T()},saveList:function(e,t){var n={id:I.makeId(4),title:t,leads:e},a=h.loadFromStorage("leadLists")||[];a.push(n),h.saveToStorage("leadLists",a),y=a},sendAll:function(e,t,n){"first-step"===t?t="second-step":"second-step"===t?t="third-step":t||(t="first-step");e.forEach((function(e){F(e,t,n)}))},setLeadsList:function(e){M=Object(v.a)(e)}},M=h.loadFromStorage(N)||[],y=h.loadFromStorage("leadLists")||[];function F(e,t,n){var a,s=e.num.split("").filter((function(e){return"-"!==e})).join("");switch(t){case"first-step":var c=m.createMsg("check",e.name);a=encodeURI(c);break;case"second-step":var i=m.createMsg("invitation",n);a=encodeURI(i);break;case"third-step":var r=m.createMsg("start");a=encodeURI(r)}A(e.id,t),window.open("https://wa.me/972".concat(s,"/?text=").concat(a))}function A(e,t){var n=E(e);M[n].status=t,T()}function E(e){return M.findIndex((function(t){return t.id===e}))}function T(){h.saveToStorage(N,M)}function D(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],c=t[1],i=Object(s.useState)({name:"",num:"",status:"",info:""}),r=Object(b.a)(i,2),o=r[0],l=r[1],d=Object(s.useState)(""),h=Object(b.a)(d,2),f=h[0],m=h[1],O=Object(s.useState)({status:""}),x=Object(b.a)(O,2),S=x[0],L=x[1],I=Object(s.useState)({title:""}),N=Object(b.a)(I,2),M=N[0],y=N[1],F=Object(s.useState)([]),A=Object(b.a)(F,2),E=A[0],T=A[1];Object(s.useEffect)((function(){D()}),[o,S]),Object(s.useEffect)((function(){U()}),[M]);var D=function(){var e=w.getLeads(S);c(Object(v.a)(e))},U=function(){var e=w.getSavedLists();T(Object(v.a)(e))},R=Object(s.useCallback)((function(e){var t=e.destination,n=e.source;e.draggableId;if(t){var a=t.index,s=n.index;w.updateLeadIdx(a,s),D()}}),[n,S]);return Object(a.jsxs)("main",{className:"homepage",children:[Object(a.jsx)(p,{lead:o,listToSave:M,onAddLead:function(e){e.preventDefault(),w.addLead(o),l({name:"",num:""})},onInputChange:function(e){var t=e.target,n=t.value,a=t.name;"list-title"===a&&y({title:n}),l(Object(j.a)(Object(j.a)({},o),{},Object(u.a)({},a,n)))},onSetZoomUrl:function(e){m(e.target.value)},onSaveList:function(e){e.preventDefault(),w.saveList(n,M.title),y({title:""})},onSendAll:function(){w.sendAll(n,S.status,f),D()}}),Object(a.jsxs)("section",{className:"main-list",children:[Object(a.jsxs)("div",{className:"main-list-header",children:[Object(a.jsxs)("h2",{children:["on the list now: ",n.length]}),Object(a.jsx)(g,{onSetFilter:function(e){L(e)}})]}),Object(a.jsx)(k,{leads:n,onDragEnd:R,onSendMsg:function(e,t){w.sendMsg(e,t,f),D()},onDeleteLead:function(e){w.remove(e),D()},onAddInfo:function(e,t){var n=e.target.textContent;w.addInfo(n,t)}})]}),Object(a.jsx)(C,{savedLists:E,setCurrList:function(e){w.setLeadsList(e),D()}})]})}var U=function(){return Object(a.jsxs)("section",{className:"App",children:[Object(a.jsx)(d,{}),Object(a.jsx)("main",{className:"",children:Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{component:D,path:"/",exact:!0}),Object(a.jsx)(o.a,{component:x,to:"/editMsg"})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(U,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.f8fbd0c7.chunk.js.map