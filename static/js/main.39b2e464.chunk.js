(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),s=n.n(c),r=n(10),o=n.n(r),i=(n(32),n(3)),l=n(12);function d(){return Object(a.jsxs)("section",{className:"app-header",children:[Object(a.jsx)(l.b,{to:"/",children:"home"}),"|",Object(a.jsx)(l.b,{to:"/editMsg",children:"edit messeges"})]})}var u=n(13),j=n(7),b=n(9),f={saveToStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},loadFromStorage:function(e){var t=localStorage.getItem(e);return JSON.parse(t)},clearStorage:function(){localStorage.clear()}};var h="myMsgs",m={getMsgTemplate:function(){return g},setMsgTemplate:function(e){console.log("\ud83d\ude80 ~ file: msgService.js ~ line 23 ~ setMsgTemplate ~ template",e),g=e,f.saveToStorage(h,g)},createMsg:function(e,t){return g[e].replace("{{data}}",t)}},g=f.loadFromStorage(h)||{check:"\u05d0\u05d4\u05dc\u05df {{data}}! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05e0\u05d9 \u05d0\u05e8\u05d0\u05d4 \u05d0\u05d5\u05ea\u05da \u05e9\u05dd?",invitation:"\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n {{data}} \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)",start:"\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd \u05e2\u05d5\u05d3 \u05db\u05de\u05d4 \u05d3\u05e7\u05d5\u05ea! \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05d5\u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05dd \u05d4\u05db\u05dc \u05e2\u05d5\u05d1\u05d3 \u05db\u05de\u05d5 \u05e9\u05e6\u05e8\u05d9\u05da:)"};function O(){var e=Object(c.useState)({check:"",invitation:"",start:""}),t=Object(b.a)(e,2),n=t[0],s=t[1];Object(c.useEffect)((function(){var e=m.getMsgTemplate();s(e)}),[]),Object(c.useEffect)((function(){m.setMsgTemplate(n)}),[n]);var r=function(e){var t=e.target,a=t.name,c=t.value;s(Object(j.a)(Object(j.a)({},n),{},Object(u.a)({},a,c)))};return Object(a.jsxs)("section",{className:"edit-msg flex column space-between align-center",children:[Object(a.jsx)("h1",{children:"Edit Messeges"}),Object(a.jsx)("label",{htmlFor:"edit-check",children:"check"}),Object(a.jsx)("textarea",{name:"check",id:"edit-check",cols:"20",rows:"10",onChange:r,value:n.check}),Object(a.jsx)("label",{htmlFor:"edit-invitation",children:"invitation"}),Object(a.jsx)("textarea",{name:"invitation",id:"edit-invitation",cols:"230",rows:"10",onChange:r,value:n.invitation}),Object(a.jsx)("label",{htmlFor:"edit-start",children:"start"}),Object(a.jsx)("textarea",{name:"start",id:"edit-start",cols:"20",rows:"10",onChange:r,value:n.start})]})}var p=n(26);function x(e){var t=e.onSetFilter,n=function(e){var n=e.target;t({status:n.value})};return Object(a.jsxs)("form",{className:"lead-filter",children:[Object(a.jsxs)("label",{htmlFor:"all",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"all",value:"",onChange:n}),"all"]}),Object(a.jsxs)("label",{htmlFor:"first",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"first",value:"first-step",onChange:n}),"checked"]}),Object(a.jsxs)("label",{htmlFor:"second",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"second",value:"second-step",onChange:n}),"invited"]}),Object(a.jsxs)("label",{htmlFor:"third",children:[Object(a.jsx)("input",{type:"radio",name:"status",id:"third",value:"third-step",onChange:n}),"finished process"]})]})}var v=n(16);function S(e){var t=e.lead,n=e.onSendMsg,c=e.onDeleteLead,s=e.onAddInfo,r=e.idx;return Object(a.jsx)(v.b,{draggableId:t.id,index:r,children:function(e){return Object(a.jsxs)("li",Object(j.a)(Object(j.a)(Object(j.a)({className:"lead-preview flex space-between align-center ".concat(t.status),ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(a.jsxs)("h1",{className:"flex",children:[t.name," - ",t.num]}),Object(a.jsx)("p",{suppressContentEditableWarning:!0,contentEditable:!0,onInput:function(e){return s(e,t.id)},children:t.info}),Object(a.jsxs)("section",{className:"lead-actions flex",children:[Object(a.jsxs)("div",{className:"lead-action-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return n(t,"first-step")},children:"check"}),Object(a.jsx)("button",{onClick:function(){return n(t,"second-step")},children:"invitation"})]}),Object(a.jsxs)("div",{className:"lead-action-wrapper",children:[Object(a.jsx)("button",{onClick:function(){return n(t,"third-step")},children:"start"}),Object(a.jsx)("button",{onClick:function(){return c(t.id)},children:"X"})]})]})]}))}})}function w(e){var t=e.leads,n=e.onSendMsg,c=e.onDeleteLead,s=e.onAddInfo,r=e.onDragEnd;return Object(a.jsx)(v.a,{onDragEnd:r,children:Object(a.jsx)(v.c,{droppableId:"leadList",children:function(e){return Object(a.jsxs)("ul",Object(j.a)(Object(j.a)({className:"lead-list clean-list flex column",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(a.jsx)(S,{idx:t,onAddInfo:s,lead:e,onSendMsg:n,onDeleteLead:c},e.id)})),e.placeholder]}))}})})}var M={makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}},k="myLeads",I={addLead:function(e){if(console.log("\ud83d\ude80 ~ file: leadService.js ~ line 6 ~ sendMsg ~ num",e.num),!e.num||e.num.length<10)return void console.log("invalid num");!function(e){e.id=M.makeId(),C.push(e),L()}(e)},getLeads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.status)return C;var t=C.filter((function(t){return t.status===e.status}));return t},sendMsg:function(e,t,n){var a,c=(s=e.num,s.split("").filter((function(e){return"-"!==e})).join(""));var s;switch(t){case"first-step":var r=m.createMsg("check",e.name);a=encodeURI(r);break;case"second-step":var o=m.createMsg("invitation",n);a=encodeURI(o);break;case"third-step":var i=m.createMsg("start");a=encodeURI(i)}N(e.id,t),window.open("https://wa.me/972".concat(c,"/?text=").concat(a))},setLeadStatus:N,remove:function(e){var t=C.findIndex((function(t){return t.id===e})),n=C.splice(t,1);return L(),n},addInfo:function(e,t){var n=y(t);C[n].info=e,L()},updateLeadIdx:function(e,t){var n=C.splice(t,1);C.splice(e,0,n[0]),L()}},C=f.loadFromStorage(k)||[];function N(e,t){var n=y(e);C[n].status=t,L()}function y(e){return C.findIndex((function(t){return t.id===e}))}function L(){f.saveToStorage(k,C)}function F(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)({name:"",num:"",status:"",info:""}),o=Object(b.a)(r,2),i=o[0],l=o[1],d=Object(c.useState)(""),h=Object(b.a)(d,2),m=h[0],g=h[1],O=Object(c.useState)({status:""}),v=Object(b.a)(O,2),S=v[0],M=v[1];Object(c.useEffect)((function(){k()}),[i,S]);var k=function(){console.log("filter:",S);var e=I.getLeads(S);s(Object(p.a)(e))},C=function(e){l(Object(j.a)(Object(j.a)({},i),{},Object(u.a)({},e.target.name,e.target.value)))};var N=Object(c.useCallback)((function(e){var t=e.destination,n=e.source;e.draggableId;if(t){var a=t.index,c=n.index;I.updateLeadIdx(a,c),console.log(e),k()}}),[]);return Object(a.jsxs)("main",{className:"homepage",children:[Object(a.jsxs)("section",{className:"main-section flex column space-between align-center",children:[Object(a.jsx)("h1",{children:"Leads-Manager"}),Object(a.jsxs)("h2",{children:["on the list now: ",n.length]}),Object(a.jsxs)("form",{className:"main-form",onSubmit:function(e){return function(e){e.preventDefault(),console.log(i),I.addLead(i),l({name:"",num:""})}(e)},children:[Object(a.jsx)("input",{type:"text",onChange:C,name:"num",value:i.num,placeholder:"num"}),Object(a.jsx)("input",{type:"text",onChange:C,name:"name",value:i.name,placeholder:"name"}),Object(a.jsx)("button",{children:"add"})]}),Object(a.jsxs)("div",{className:"zoom-clear-wrapper",children:[Object(a.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:function(e){g(e.target.value)}}),Object(a.jsx)("button",{className:"clear-btn",onClick:function(){return f.saveToStorage("myLeads",null),void window.location.reload()},children:"clear storage"})]}),Object(a.jsx)(x,{onSetFilter:function(e){console.log("\ud83d\ude80 ~ file: Home.jsx ~ line 63 ~ onSetFilter ~ filter",e),M(e)}})]}),Object(a.jsx)(w,{leads:n,onDragEnd:N,onSendMsg:function(e,t){I.sendMsg(e,t,m),k()},onDeleteLead:function(e){I.remove(e),k()},onAddInfo:function(e,t){var n=e.target.textContent;console.log(e.target.textContent,t),I.addInfo(n,t)}})]})}var E=function(){return Object(a.jsxs)("section",{className:"App",children:[Object(a.jsx)(d,{}),Object(a.jsx)("main",{className:"",children:Object(a.jsxs)(i.c,{children:[Object(a.jsx)(i.a,{component:F,path:"/",exact:!0}),Object(a.jsx)(i.a,{component:O,to:"/editMsg"})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(l.a,{children:Object(a.jsx)(E,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.39b2e464.chunk.js.map