(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(t,n,e){},16:function(t,n,e){"use strict";e.r(n);var c=e(0),o=e(1),a=e.n(o),r=e(8),s=e.n(r),i=(e(15),e(3)),u=e(7),l=e(9),d=e(5);function j(t){var n=t.contact,e=t.onSendMsg,o=t.onDeleteContact;return console.log(n),Object(c.jsxs)("li",{className:"contact-preview ".concat(n.status),children:[Object(c.jsxs)("h1",{children:[n.name," - ",n.num]}),Object(c.jsx)("button",{onClick:function(){return e(n,"first-step")},children:"send check msg"}),Object(c.jsx)("button",{onClick:function(){return e(n,"second-step")},children:"send invitation msg"}),Object(c.jsx)("button",{onClick:function(){return e(n,"third-step")},children:"send start msg"}),Object(c.jsx)("button",{onClick:function(){return o(n.id)},children:"X"})]})}function m(t){var n=t.contacts,e=t.onSendMsg;return console.log("\ud83d\ude80 ~ file: ContactList.jsx ~ line 4 ~ ContactList ~ contacts",n),Object(c.jsx)("ul",{className:"contact-list clean-list",children:n.map((function(t){return Object(c.jsx)(j,{contact:t,onSendMsg:e},t.id)}))})}var f={saveToStorage:function(t,n){localStorage.setItem(t,JSON.stringify(n))},loadFromStorage:function(t){var n=localStorage.getItem(t);return JSON.parse(n)},clearStorage:function(){localStorage.clear()}};var g={makeId:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<t;c++)n+=e.charAt(Math.floor(Math.random()*e.length));return n}},h="myContacts",b={addContact:function(t){if(console.log("\ud83d\ude80 ~ file: contactService.js ~ line 6 ~ sendMsg ~ num",t.num),!t.num||t.num.length<10)return void console.log("invalid num");!function(t){t.id=g.makeId(),p.push(t),v()}(t)},getContacts:function(){return p},sendMsg:function(t,n,e){var c,o=(a=t.num,a.split("").filter((function(t){return"-"!==t})).join(""));var a;switch(n){case"first-step":c=encodeURI("\u05d0\u05d4\u05dc\u05df ".concat(t.name,"! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05e0\u05d9 \u05d0\u05e8\u05d0\u05d4 \u05d0\u05d5\u05ea\u05da \u05e9\u05dd?"));break;case"second-step":c=encodeURI("\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n ".concat(e," \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)"));break;case"third-step":c=encodeURI("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd \u05e2\u05d5\u05d3 \u05db\u05de\u05d4 \u05d3\u05e7\u05d5\u05ea! \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05d5\u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05dd \u05d4\u05db\u05dc \u05e2\u05d5\u05d1\u05d3 \u05db\u05de\u05d5 \u05e9\u05e6\u05e8\u05d9\u05da:)")}O(t.id,n),window.open("https://wa.me/972".concat(o,"/?text=").concat(c))},setContactStatus:O,remove:function(t){var n=p.findIndex((function(n){return n.id===t})),e=p.splice(n,1);return v(),e}},p=f.loadFromStorage(h)||[];function O(t,n){var e,c=(e=t,p.findIndex((function(t){return t.id===e})));p[c].status=n}function v(){f.saveToStorage(h,p)}function x(){var t=Object(o.useState)([]),n=Object(d.a)(t,2),e=n[0],a=n[1],r=Object(o.useState)({name:"",num:"",status:""}),s=Object(d.a)(r,2),j=s[0],g=s[1],h=Object(o.useState)(""),p=Object(d.a)(h,2),O=p[0],v=p[1];Object(o.useEffect)((function(){x(),console.log(j)}),[j]);var x=function(){var t=b.getContacts();a(Object(l.a)(t))},S=function(t){g(Object(u.a)(Object(u.a)({},j),{},Object(i.a)({},t.target.name,t.target.value)))};return Object(c.jsxs)("section",{className:"homepage",children:[Object(c.jsx)("h1",{children:"Contacts-Manager"}),Object(c.jsxs)("form",{onSubmit:function(t){return function(t){t.preventDefault(),console.log(j),b.addContact(j),g({name:"",num:""})}(t)},children:[Object(c.jsx)("input",{type:"text",onChange:S,name:"num",value:j.num,placeholder:"num"}),Object(c.jsx)("input",{type:"text",onChange:S,name:"name",value:j.name,placeholder:"name"}),Object(c.jsx)("button",{children:"send"})]}),Object(c.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:function(t){v(t.target.value)}}),Object(c.jsx)("button",{className:"clear-btn",onClick:function(){return f.clearStorage(),void window.location.reload()},children:"clear storage"}),Object(c.jsx)(m,{contacts:e,onSendMsg:function(t,n){b.sendMsg(t,n,O),x()},onDeleteContact:function(t){b.remove(t),x()}})]})}var S=function(){return Object(c.jsx)("section",{className:"App",children:Object(c.jsx)(x,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.1f4b81f5.chunk.js.map