(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(n,t,e){},16:function(n,t,e){"use strict";e.r(t);var o=e(0),c=e(1),a=e.n(c),i=e(8),r=e.n(i),s=(e(15),e(3)),u=e(7),l=e(9),d=e(5);function m(n){var t=n.contact,e=n.onSendCheckMsg,c=n.onDeleteContact,a=n.onSendInvitation;return Object(o.jsxs)("li",{className:"contact-preview",children:[Object(o.jsxs)("h1",{children:[t.name," - ",t.num]}),Object(o.jsx)("button",{onClick:function(){return e(t)},children:"send check msg"}),Object(o.jsx)("button",{onClick:function(){return a(t.num)},children:"send invitation msg"}),Object(o.jsx)("button",{onClick:function(){return c(t.id)},children:"X"})]})}function j(n){var t=n.contacts,e=n.onSendCheckMsg,c=n.onDeleteContact,a=n.onSendInvitation;return console.log("\ud83d\ude80 ~ file: ContactList.jsx ~ line 4 ~ ContactList ~ contacts",t),Object(o.jsx)("ul",{className:"contact-list clean-list",children:t.map((function(n){return Object(o.jsx)(m,{contact:n,onSendCheckMsg:e,onDeleteContact:c,onSendInvitation:a},n.id)}))})}var h={saveToStorage:function(n,t){localStorage.setItem(n,JSON.stringify(t))},loadFromStorage:function(n){var t=localStorage.getItem(n);return JSON.parse(t)},clearStorage:function(){localStorage.clear()}};var f={makeId:function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<n;o++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}},g="myContacts",b={sendMsg:function(n){if(console.log("\ud83d\ude80 ~ file: contactService.js ~ line 6 ~ sendMsg ~ num",n.num),!n.num||n.num.length<10)return void console.log("invalid num");var t="https://api.whatsapp.com/send?phone=972"+p(n.num);(function(n){n.id=f.makeId(),v.push(n),O()})(n),window.open(t,"_blank")},getContacts:function(){return v},sendCheckMsg:function(n){var t=p(n.num),e=encodeURI("\u05d0\u05d4\u05dc\u05df ".concat(n.name,"! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05ea/\u05d4 \u05de\u05d2\u05d9\u05e2/\u05d4?"));window.open("https://wa.me/972".concat(t,"/?text=").concat(e))},sendInvitation:function(n,t){var e=p(t),o=encodeURI("\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n ".concat(n," \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)"));window.open("https://wa.me/972".concat(e,"/?text=").concat(o))},remove:function(n){var t=v.findIndex((function(t){return t.id===n})),e=v.splice(t,1);return O(),e}},v=h.loadFromStorage(g)||[];function p(n){return n.split("").filter((function(n){return"-"!==n})).join("")}function O(){h.saveToStorage(g,v)}function x(){var n=Object(c.useState)([]),t=Object(d.a)(n,2),e=t[0],a=t[1],i=Object(c.useState)({name:"",num:""}),r=Object(d.a)(i,2),m=r[0],f=r[1],g=Object(c.useState)(""),v=Object(d.a)(g,2),p=v[0],O=v[1];Object(c.useEffect)((function(){x(),console.log(m)}),[m]);var x=function(){var n=b.getContacts();a(Object(l.a)(n))},S=function(n){f(Object(u.a)(Object(u.a)({},m),{},Object(s.a)({},n.target.name,n.target.value)))};return Object(o.jsxs)("section",{className:"homepage",children:[Object(o.jsx)("h1",{children:"Contacts-Manager"}),Object(o.jsxs)("form",{onSubmit:function(n){return function(n){n.preventDefault(),console.log(m),b.sendMsg(m),f({name:"",num:""})}(n)},children:[Object(o.jsx)("input",{type:"text",onChange:S,name:"num",value:m.num,placeholder:"num"}),Object(o.jsx)("input",{type:"text",onChange:S,name:"name",value:m.name,placeholder:"name"}),Object(o.jsx)("button",{children:"send"})]}),Object(o.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:function(n){O(n.target.value)}}),Object(o.jsx)("button",{className:"clear-btn",onClick:function(){return h.clearStorage(),void window.location.reload()},children:"clear storage"}),Object(o.jsx)(j,{contacts:e,onSendCheckMsg:function(n){b.sendCheckMsg(n)},onDeleteContact:function(n){b.remove(n),x()},onSendInvitation:function(n){b.sendInvitation(p,n)}})]})}var S=function(){return Object(o.jsx)("section",{className:"App",children:Object(o.jsx)(x,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.add83f54.chunk.js.map