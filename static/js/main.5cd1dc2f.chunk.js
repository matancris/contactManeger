(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{20:function(t,e,n){},29:function(t,e,n){"use strict";n.r(e);var c=n(1),o=n(0),a=n.n(o),r=n(3),s=n.n(r),i=(n(20),n(7)),l=n(2),u=n(14),d=n(6);function j(t){var e=t.onSetFilter,n=function(t){var n=t.target;e({status:n.value})};return Object(c.jsxs)("form",{className:"contact-filter",children:[Object(c.jsxs)("label",{htmlFor:"all",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"all",value:"",onChange:n}),"all"]}),Object(c.jsxs)("label",{htmlFor:"first",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"first",value:"first-step",onChange:n}),"checked"]}),Object(c.jsxs)("label",{htmlFor:"second",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"second",value:"second-step",onChange:n}),"invited"]}),Object(c.jsxs)("label",{htmlFor:"third",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"third",value:"third-step",onChange:n}),"finished process"]})]})}var f=n(5);function b(t){var e=t.contact,n=t.onSendMsg,o=t.onDeleteContact,a=t.onAddInfo,r=t.idx;return Object(c.jsx)(f.b,{draggableId:e.id,index:r,children:function(t){return Object(c.jsxs)("li",Object(l.a)(Object(l.a)(Object(l.a)({className:"contact-preview flex space-between align-center ".concat(e.status),ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[Object(c.jsxs)("h1",{children:[e.name," - ",e.num]}),Object(c.jsx)("p",{suppressContentEditableWarning:!0,contentEditable:!0,onInput:function(t){return a(t,e.id)},children:e.info}),Object(c.jsxs)("section",{className:"contact-actions flex",children:[Object(c.jsxs)("div",{className:"contact-action-wrapper",children:[Object(c.jsx)("button",{onClick:function(){return n(e,"first-step")},children:"check"}),Object(c.jsx)("button",{onClick:function(){return n(e,"second-step")},children:"invitation"})]}),Object(c.jsxs)("div",{className:"contact-action-wrapper",children:[Object(c.jsx)("button",{onClick:function(){return n(e,"third-step")},children:"start"}),Object(c.jsx)("button",{onClick:function(){return o(e.id)},children:"X"})]})]})]}))}})}function h(t){var e=t.contacts,n=t.onSendMsg,o=t.onDeleteContact,a=t.onAddInfo,r=t.onDragEnd;return console.log("\ud83d\ude80 ~ file: ContactList.jsx ~ line 4 ~ ContactList ~ contacts",e),Object(c.jsx)(f.a,{onDragEnd:r,children:Object(c.jsx)(f.c,{droppableId:"contactList",children:function(t){return Object(c.jsxs)("ul",Object(l.a)(Object(l.a)({className:"contact-list clean-list flex column",ref:t.innerRef},t.droppableProps),{},{children:[e.map((function(t,e){return Object(c.jsx)(b,{idx:e,onAddInfo:a,contact:t,onSendMsg:n,onDeleteContact:o},t.id)})),t.placeholder]}))}})})}var m={saveToStorage:function(t,e){localStorage.setItem(t,JSON.stringify(e))},loadFromStorage:function(t){var e=localStorage.getItem(t);return JSON.parse(e)},clearStorage:function(){localStorage.clear()}};var p={makeId:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<t;c++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}},g="myContacts",O={addContact:function(t){if(console.log("\ud83d\ude80 ~ file: contactService.js ~ line 6 ~ sendMsg ~ num",t.num),!t.num||t.num.length<10)return void console.log("invalid num");!function(t){t.id=p.makeId(),x.push(t),S()}(t)},getContacts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.status)return x;var e=x.filter((function(e){return e.status===t.status}));return e},sendMsg:function(t,e,n){var c,o=(a=t.num,a.split("").filter((function(t){return"-"!==t})).join(""));var a;switch(e){case"first-step":c=encodeURI("\u05d0\u05d4\u05dc\u05df ".concat(t.name,"! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05e0\u05d9 \u05d0\u05e8\u05d0\u05d4 \u05d0\u05d5\u05ea\u05da \u05e9\u05dd?"));break;case"second-step":c=encodeURI("\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n ".concat(n," \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)"));break;case"third-step":c=encodeURI("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd \u05e2\u05d5\u05d3 \u05db\u05de\u05d4 \u05d3\u05e7\u05d5\u05ea! \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05d5\u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05dd \u05d4\u05db\u05dc \u05e2\u05d5\u05d1\u05d3 \u05db\u05de\u05d5 \u05e9\u05e6\u05e8\u05d9\u05da:)")}v(t.id,e),window.open("https://wa.me/972".concat(o,"/?text=").concat(c))},setContactStatus:v,remove:function(t){var e=x.findIndex((function(e){return e.id===t})),n=x.splice(e,1);return S(),n},addInfo:function(t,e){var n=C(e);x[n].info=t,S()},updateContactIdx:function(t,e){var n=x.splice(e,1);x.splice(t,0,n[0]),S()}},x=m.loadFromStorage(g)||[];function v(t,e){var n=C(t);x[n].status=e,S()}function C(t){return x.findIndex((function(e){return e.id===t}))}function S(){m.saveToStorage(g,x)}function I(){var t=Object(o.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1],r=Object(o.useState)({name:"",num:"",status:"",info:""}),s=Object(d.a)(r,2),f=s[0],b=s[1],p=Object(o.useState)(""),g=Object(d.a)(p,2),x=g[0],v=g[1],C=Object(o.useState)({status:""}),S=Object(d.a)(C,2),I=S[0],w=S[1];Object(o.useEffect)((function(){k()}),[f,I]);var k=function(){console.log("filter:",I);var t=O.getContacts(I);a(Object(u.a)(t))},y=function(t){b(Object(l.a)(Object(l.a)({},f),{},Object(i.a)({},t.target.name,t.target.value)))};var M=Object(o.useCallback)((function(t){var e=t.destination,n=t.source,c=(t.draggableId,e.index),o=n.index;O.updateContactIdx(c,o),console.log(t),k()}),[]);return Object(c.jsxs)("section",{className:"homepage",children:[Object(c.jsx)("h1",{children:"Contacts-Manager"}),Object(c.jsxs)("h2",{children:["on the list now: ",n.length]}),Object(c.jsxs)("form",{className:"main-form",onSubmit:function(t){return function(t){t.preventDefault(),console.log(f),O.addContact(f),b({name:"",num:""})}(t)},children:[Object(c.jsx)("input",{type:"text",onChange:y,name:"num",value:f.num,placeholder:"num"}),Object(c.jsx)("input",{type:"text",onChange:y,name:"name",value:f.name,placeholder:"name"}),Object(c.jsx)("button",{children:"add"})]}),Object(c.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:function(t){v(t.target.value)}}),Object(c.jsx)("button",{className:"clear-btn",onClick:function(){return m.clearStorage(),void window.location.reload()},children:"clear storage"}),Object(c.jsx)(j,{onSetFilter:function(t){console.log("\ud83d\ude80 ~ file: Home.jsx ~ line 63 ~ onSetFilter ~ filter",t),w(t)}}),Object(c.jsx)(h,{contacts:n,onDragEnd:M,onSendMsg:function(t,e){O.sendMsg(t,e,x),k()},onDeleteContact:function(t){O.remove(t),k()},onAddInfo:function(t,e){var n=t.target.textContent;console.log(t.target.textContent,e),O.addInfo(n,e)}})]})}var w=function(){return Object(c.jsx)("section",{className:"App",children:Object(c.jsx)(I,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.5cd1dc2f.chunk.js.map