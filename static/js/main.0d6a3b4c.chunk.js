(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(1),a=n.n(o),s=n(8),r=n.n(s),i=(n(15),n(4)),l=n(7),u=n(9),d=n(2);function j(t){var e=t.onSetFilter,n=Object(o.useState)({status:""}),a=Object(d.a)(n,2),s=a[0],r=a[1];Object(o.useEffect)((function(){e(s)}),[s]);var i=function(t){var e=t.target;r({status:e.value})};return Object(c.jsxs)("form",{className:"contact-filter",children:[Object(c.jsxs)("label",{htmlFor:"all",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"all",value:"",onChange:i}),"all"]}),Object(c.jsxs)("label",{htmlFor:"first",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"first",value:"first-step",onChange:i}),"first step"]}),Object(c.jsxs)("label",{htmlFor:"second",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"second",value:"second-step",onChange:i}),"second step"]}),Object(c.jsxs)("label",{htmlFor:"third",children:[Object(c.jsx)("input",{type:"radio",name:"status",id:"third",value:"third-step",onChange:i}),"third step"]})]})}function f(t){var e=t.contact,n=t.onSendMsg,o=t.onDeleteContact;return console.log(e),Object(c.jsxs)("li",{className:"contact-preview ".concat(e.status),children:[Object(c.jsxs)("h1",{children:[e.name," - ",e.num]}),Object(c.jsx)("button",{onClick:function(){return n(e,"first-step")},children:"send check msg"}),Object(c.jsx)("button",{onClick:function(){return n(e,"second-step")},children:"send invitation msg"}),Object(c.jsx)("button",{onClick:function(){return n(e,"third-step")},children:"send start msg"}),Object(c.jsx)("button",{onClick:function(){return o(e.id)},children:"X"})]})}function m(t){var e=t.contacts,n=t.onSendMsg,o=t.onDeleteContact;return console.log("\ud83d\ude80 ~ file: ContactList.jsx ~ line 4 ~ ContactList ~ contacts",e),Object(c.jsx)("ul",{className:"contact-list clean-list",children:e.map((function(t){return Object(c.jsx)(f,{contact:t,onSendMsg:n,onDeleteContact:o},t.id)}))})}var h={saveToStorage:function(t,e){localStorage.setItem(t,JSON.stringify(e))},loadFromStorage:function(t){var e=localStorage.getItem(t);return JSON.parse(e)},clearStorage:function(){localStorage.clear()}};var b={makeId:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=0;c<t;c++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}},g="myContacts",p={addContact:function(t){if(console.log("\ud83d\ude80 ~ file: contactService.js ~ line 6 ~ sendMsg ~ num",t.num),!t.num||t.num.length<10)return void console.log("invalid num");!function(t){t.id=b.makeId(),O.push(t),x()}(t)},getContacts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.status)return O;var e=O.filter((function(e){return e.status===t.status}));return e},sendMsg:function(t,e,n){var c,o=(a=t.num,a.split("").filter((function(t){return"-"!==t})).join(""));var a;switch(e){case"first-step":c=encodeURI("\u05d0\u05d4\u05dc\u05df ".concat(t.name,"! \u05d6\u05d4 \u05de\u05ea\u05df \u05de\u05e7\u05d5\u05d3\u05d9\u05e0\u05d2 \u05d0\u05e7\u05d3\u05de\u05d9:) \u05d4\u05d9\u05d5\u05dd \u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05dc\u05e0\u05d5! \u05d0\u05e0\u05d9 \u05d0\u05e8\u05d0\u05d4 \u05d0\u05d5\u05ea\u05da \u05e9\u05dd?"));break;case"second-step":c=encodeURI("\u05d6\u05d4 \u05d4\u05dc\u05d9\u05e0\u05e7 \u05dc\u05e2\u05e8\u05d1 \u05d4\u05d4\u05db\u05e8\u05d5\u05ea \u05e9\u05de\u05ea\u05d7\u05d9\u05dc \u05d1\u05e9\u05e2\u05d4 18:00:\n\n ".concat(n," \n\n \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05e7\u05e6\u05ea \u05dc\u05e4\u05e0\u05d9 \u05db\u05d3\u05d9 \u05dc\u05e8\u05d0\u05d5\u05ea \u05e9\u05d0\u05d9\u05df \u05d1\u05e2\u05d9\u05d5\u05ea \u05d8\u05db\u05e0\u05d9\u05d5\u05ea. \n\n \u05de\u05d7\u05db\u05d4 \u05dc\u05e8\u05d0\u05d5\u05ea\u05da!:)"));break;case"third-step":c=encodeURI("\u05de\u05ea\u05d7\u05d9\u05dc\u05d9\u05dd \u05e2\u05d5\u05d3 \u05db\u05de\u05d4 \u05d3\u05e7\u05d5\u05ea! \u05db\u05d3\u05d0\u05d9 \u05dc\u05d4\u05db\u05e0\u05e1 \u05d5\u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05dd \u05d4\u05db\u05dc \u05e2\u05d5\u05d1\u05d3 \u05db\u05de\u05d5 \u05e9\u05e6\u05e8\u05d9\u05da:)")}v(t.id,e),window.open("https://wa.me/972".concat(o,"/?text=").concat(c))},setContactStatus:v,remove:function(t){var e=O.findIndex((function(e){return e.id===t})),n=O.splice(e,1);return x(),n}},O=h.loadFromStorage(g)||[];function v(t,e){var n,c=(n=t,O.findIndex((function(t){return t.id===n})));O[c].status=e,x()}function x(){h.saveToStorage(g,O)}function C(){var t=Object(o.useState)([]),e=Object(d.a)(t,2),n=e[0],a=e[1],s=Object(o.useState)({name:"",num:"",status:""}),r=Object(d.a)(s,2),f=r[0],b=r[1],g=Object(o.useState)(""),O=Object(d.a)(g,2),v=O[0],x=O[1];Object(o.useEffect)((function(){C(),console.log(f)}),[f]);var C=function(t){var e=p.getContacts(t);a(Object(u.a)(e))},S=function(t){b(Object(l.a)(Object(l.a)({},f),{},Object(i.a)({},t.target.name,t.target.value)))};return Object(c.jsxs)("section",{className:"homepage",children:[Object(c.jsx)("h1",{children:"Contacts-Manager"}),Object(c.jsxs)("form",{className:"main-form",onSubmit:function(t){return function(t){t.preventDefault(),console.log(f),p.addContact(f),b({name:"",num:""})}(t)},children:[Object(c.jsx)("input",{type:"text",onChange:S,name:"num",value:f.num,placeholder:"num"}),Object(c.jsx)("input",{type:"text",onChange:S,name:"name",value:f.name,placeholder:"name"}),Object(c.jsx)("button",{children:"add"})]}),Object(c.jsx)("input",{type:"text",placeholder:"ZOOM url",onChange:function(t){x(t.target.value)}}),Object(c.jsx)("button",{className:"clear-btn",onClick:function(){return h.clearStorage(),void window.location.reload()},children:"clear storage"}),Object(c.jsx)(j,{onSetFilter:function(t){console.log(t),C(t)}}),Object(c.jsx)(m,{contacts:n,onSendMsg:function(t,e){p.sendMsg(t,e,v),C()},onDeleteContact:function(t){p.remove(t),C()}})]})}var S=function(){return Object(c.jsx)("section",{className:"App",children:Object(c.jsx)(C,{})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.0d6a3b4c.chunk.js.map